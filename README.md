# M5Stack-ESP-Home-Sonic-Sensor-Relay-Tutorial
Step by step on setting up an m5stack sonic sensor with the m5stack 4x relay and automating using home assistant

![ESPHome_step00_0](https://github.com/user-attachments/assets/6d62dbb5-0bf4-46ed-945f-339a95871518)

![ESPHome_step00_1](https://github.com/user-attachments/assets/2c0082b9-f090-4918-822b-91fedb427940)

<img width="1917" height="742" alt="ESPHome_step01" src="https://github.com/user-attachments/assets/79aa1b3c-d92a-423c-b59f-54d399c7b92e" />

<img width="1915" height="1074" alt="ESPHome_step02_1" src="https://github.com/user-attachments/assets/1abd86ba-8d2f-46ca-917e-7a2d46d301f3" />

<img width="1899" height="911" alt="ESPHome_step02_2" src="https://github.com/user-attachments/assets/7d9c4f78-6390-4a02-ac05-8d33cfba36d5" />

<img width="1899" height="911" alt="ESPHome_step02_3" src="https://github.com/user-attachments/assets/2871da3c-68ff-43c9-bdce-eb3e8bb19467" />

<img width="1915" height="1074" alt="ESPHome_step03" src="https://github.com/user-attachments/assets/1b6b4889-daba-4916-ac46-e88200fa1005" />

<img width="535" height="519" alt="ESPHome_step04" src="https://github.com/user-attachments/assets/20a7a562-dc0a-4c18-b468-c51028c4dc5e" />

<img width="1900" height="706" alt="ESPHome_step04_1" src="https://github.com/user-attachments/assets/c2089fb7-70c0-4715-959f-41419aa2a3e8" />

<img width="1911" height="691" alt="ESPHome_step04_2" src="https://github.com/user-attachments/assets/a5975cd2-0dee-4230-9888-41cd7799f31f" />

<img width="1909" height="409" alt="ESPHome_step04_3" src="https://github.com/user-attachments/assets/ca041470-4ffa-4891-b9db-32d18c5fc988" />

<img width="1915" height="1074" alt="ESPHome_step05" src="https://github.com/user-attachments/assets/e3c12c01-ed34-4909-8424-394fa0fbb21e" />

<img width="1915" height="798" alt="ESPHome_step06" src="https://github.com/user-attachments/assets/a2767bb1-3a62-4621-aafb-14c433a481b9" />

<img width="1911" height="820" alt="ESPHome_step07" src="https://github.com/user-attachments/assets/5d7ebb79-fc14-4ef3-bb56-b4379abbab9c" />

<img width="1913" height="847" alt="ESPHome_step08" src="https://github.com/user-attachments/assets/6beffebf-a97b-44d2-b4b4-1e8d2b64d164" />

<img width="1920" height="1080" alt="ESPHome_step09" src="https://github.com/user-attachments/assets/23d87a2c-870c-4011-bbd2-2698659df528" />

<img width="1913" height="785" alt="ESPHome_step10" src="https://github.com/user-attachments/assets/e0346161-4649-4e17-a187-532ac86eb552" />

<img width="1906" height="842" alt="ESPHome_step11" src="https://github.com/user-attachments/assets/4849d348-3fb7-4446-aeec-a0b1577ac422" />

<img width="1914" height="1068" alt="ESPHome_step12" src="https://github.com/user-attachments/assets/435d1a34-b3e2-4ea3-9098-a394b58529dc" />

<img width="1915" height="1076" alt="ESPHome_step13" src="https://github.com/user-attachments/assets/6ed088bd-5777-47bc-b4a6-2442ab8668b0" />

<img width="1900" height="1069" alt="ESPHome_step14" src="https://github.com/user-attachments/assets/e3634f33-09db-43d3-800e-67d75e9fc31d" />

<img width="1902" height="1070" alt="ESPHome_step15" src="https://github.com/user-attachments/assets/59ecd034-6000-47a8-9c10-a20d31bc4129" />

<img width="1906" height="1070" alt="ESPHome_step16" src="https://github.com/user-attachments/assets/304e4a77-bf73-4c4c-b266-3c551f8aa296" />

<img width="1903" height="1077" alt="ESPHome_step17" src="https://github.com/user-attachments/assets/b1a6bc57-aef8-4f2b-864e-b89215a28b44" />

<img width="1908" height="1075" alt="ESPHome_step18" src="https://github.com/user-attachments/assets/813d54a0-28f8-497b-a0f1-0aead09d01f4" />

<img width="1088" height="853" alt="ESPHome_step19" src="https://github.com/user-attachments/assets/555fbda5-03c2-4c2e-a32e-73f03ab7d738" />

<img width="1914" height="353" alt="ESPHome_step20" src="https://github.com/user-attachments/assets/1b230a87-014c-4450-b2ee-f7d6e41d1bd3" />

<img width="1917" height="717" alt="ESPHome_step21" src="https://github.com/user-attachments/assets/b713a548-5f51-4287-adad-8ad637edcab1" />

<img width="1907" height="828" alt="ESPHome_step22" src="https://github.com/user-attachments/assets/d8209d1f-4445-4056-8c39-131953cca40d" />

<img width="1911" height="647" alt="ESPHome_step23" src="https://github.com/user-attachments/assets/d4669162-8169-414b-bb03-796aaae1af4b" />

<img width="1913" height="614" alt="ESPHome_step24" src="https://github.com/user-attachments/assets/a0675aef-3143-455b-8ce8-99e2466dcca8" />

<img width="1917" height="622" alt="ESPHome_step25" src="https://github.com/user-attachments/assets/24d2c4f8-8845-4333-b2c4-bf629b3cca48" />

<img width="1917" height="547" alt="ESPHome_step26" src="https://github.com/user-attachments/assets/66adef12-043d-497f-ac3a-1099ea2141ac" />

<img width="1914" height="907" alt="ESPHome_step27" src="https://github.com/user-attachments/assets/ec8d1a91-18ec-4e67-9841-1d019fcaf891" />

<img width="1900" height="910" alt="ESPHome_step28" src="https://github.com/user-attachments/assets/9e78e363-1a6f-4380-ba4b-61a790bcb0ba" />

<img width="1916" height="914" alt="ESPHome_step29" src="https://github.com/user-attachments/assets/82271e06-69e6-469d-b22c-42fd7a1be6d1" />

<img width="1916" height="910" alt="ESPHome_step30" src="https://github.com/user-attachments/assets/f76d6f0e-7be1-4612-bc23-4a9771c52515" />

<img width="1915" height="910" alt="ESPHome_step31" src="https://github.com/user-attachments/assets/463a096e-8a5b-4976-8a66-30582479a2ac" />

<img width="1912" height="903" alt="ESPHome_step32" src="https://github.com/user-attachments/assets/1eaff68d-f402-457b-a294-2a74cabe86d7" />

<img width="1909" height="904" alt="ESPHome_step33" src="https://github.com/user-attachments/assets/5f2c8001-86a1-46c4-83db-2093125ccd69" />

<img width="1914" height="907" alt="ESPHome_step34" src="https://github.com/user-attachments/assets/e36b066d-3382-4306-867d-114b880df0ef" />

<img width="1914" height="907" alt="ESPHome_step35" src="https://github.com/user-attachments/assets/4a502d3e-048c-4ea2-ac2a-a4f39e76faed" />

<img width="1897" height="902" alt="ESPHome_step36" src="https://github.com/user-attachments/assets/f0201422-2c60-4561-8887-b36369e70f91" />

<img width="1911" height="910" alt="ESPHome_step37" src="https://github.com/user-attachments/assets/f5cc1872-ec03-49ec-a11f-404fe1a95332" />

<img width="1912" height="902" alt="ESPHome_step38" src="https://github.com/user-attachments/assets/391d8ea0-9a21-4086-964c-8fea0eae45d8" />

<img width="1911" height="910" alt="ESPHome_step39" src="https://github.com/user-attachments/assets/140e7868-01d8-432c-b85d-f80481dce4ba" />

<img width="1910" height="663" alt="ESPHome_step40" src="https://github.com/user-attachments/assets/135653b5-3c0a-4a7e-9f2c-728efd49b55e" />

<img width="1908" height="902" alt="ESPHome_step41" src="https://github.com/user-attachments/assets/133c3e18-9923-417a-81ae-b1e88cc95346" />

<img width="1898" height="907" alt="ESPHome_step42" src="https://github.com/user-attachments/assets/ccebea94-be4f-48b4-bdaf-91d3e9d64124" />

<img width="1911" height="901" alt="ESPHome_step43" src="https://github.com/user-attachments/assets/e28970fd-6fbd-4a3c-88ca-f11f306a664d" />

<img width="1914" height="907" alt="ESPHome_step44" src="https://github.com/user-attachments/assets/9f294dc7-fdbd-458c-a51f-cd55be2215bc" />

<img width="1916" height="912" alt="ESPHome_step45" src="https://github.com/user-attachments/assets/5b88181b-3b42-4a24-91dc-6edb021228bc" />

<img width="1912" height="906" alt="ESPHome_step46" src="https://github.com/user-attachments/assets/148d79b1-5716-41fe-ae68-73a0f241285e" />

<img width="1912" height="908" alt="ESPHome_step47" src="https://github.com/user-attachments/assets/465671a4-e9f2-4026-96a1-83fd21524edf" />

<img width="1915" height="911" alt="ESPHome_step48" src="https://github.com/user-attachments/assets/d5965031-204c-46a3-b2cc-a008a642ab73" />

<img width="1916" height="909" alt="ESPHome_step50" src="https://github.com/user-attachments/assets/424a84c9-cdd0-4e31-8fba-397034628f69" />

<img width="928" height="846" alt="ESPHome_step51" src="https://github.com/user-attachments/assets/ba932678-437b-4740-9532-83d11e3e79cb" />

<img width="1917" height="909" alt="ESPHome_step52" src="https://github.com/user-attachments/assets/7d738a09-41d0-4e9d-aeab-b3841ac6e7ca" />

<img width="1913" height="906" alt="ESPHome_step53" src="https://github.com/user-attachments/assets/9dffd504-4b97-42ec-8867-3b43e0be4204" />

<img width="1906" height="906" alt="ESPHome_step54" src="https://github.com/user-attachments/assets/9e3be185-590b-4bd6-88aa-740763174bc9" />

<img width="1910" height="910" alt="ESPHome_step55" src="https://github.com/user-attachments/assets/be771b5d-3ef9-4c81-a68c-2b6fe5e34490" />

<img width="1913" height="907" alt="ESPHome_step56" src="https://github.com/user-attachments/assets/da1ccd68-0588-4582-bc91-78a1f75faf31" />

<img width="1910" height="912" alt="ESPHome_step57" src="https://github.com/user-attachments/assets/b0e41887-ba9b-436f-8a23-d82b8b60c7ee" />

<img width="1908" height="906" alt="ESPHome_step58" src="https://github.com/user-attachments/assets/af6c7a18-6570-40ba-bc0e-d822d3da12d2" />

<img width="1913" height="907" alt="ESPHome_step59" src="https://github.com/user-attachments/assets/7acd5f96-d1be-46ed-9578-78127b68a6c9" />

![ESPHome_step59_0](https://github.com/user-attachments/assets/bf6c9fd4-0b37-4c15-9916-4f4e1cc1cf8b)

![ESPHome_step59_1](https://github.com/user-attachments/assets/5e92f892-31c5-4501-be8f-7a57466b3ac3)

![ESPHome_step59_2](https://github.com/user-attachments/assets/c457ccca-c06e-4145-ad7f-1807c5df2541)

![ESPHome_step59_3](https://github.com/user-attachments/assets/c8187497-1d44-43cd-b225-38e84d5a6b33)

![ESPHome_step59_4](https://github.com/user-attachments/assets/d0b7702a-3cad-4447-9945-9db7c9b8cba5)

<img width="1905" height="569" alt="ESPHome_step60" src="https://github.com/user-attachments/assets/dce6c65c-6746-41c7-836d-3d32585af06a" />

<img width="1912" height="960" alt="ESPHome_step61" src="https://github.com/user-attachments/assets/6bb89644-5e76-4ec1-9828-557482a6673b" />

<img width="1909" height="1074" alt="ESPHome_step62" src="https://github.com/user-attachments/assets/53a05593-0a6c-4210-b414-78f9f480b159" />

<img width="1910" height="1076" alt="ESPHome_step63" src="https://github.com/user-attachments/assets/98d629ea-c65c-425a-b473-ace7856349b9" />

<img width="1910" height="1069" alt="ESPHome_step64" src="https://github.com/user-attachments/assets/9506b5f5-ee57-4e66-8a62-c5e00e083786" />

<img width="1912" height="1075" alt="ESPHome_step65" src="https://github.com/user-attachments/assets/34821581-5831-47ed-bee4-81f8c6463163" />

<img width="1902" height="1073" alt="ESPHome_step66" src="https://github.com/user-attachments/assets/11b0f2c8-f78b-4a2b-a352-91fffc250201" />

<img width="1897" height="1072" alt="ESPHome_step67" src="https://github.com/user-attachments/assets/c7b78e1c-8695-4d8a-b791-de3a1cafc238" />

<img width="1899" height="1071" alt="ESPHome_step68" src="https://github.com/user-attachments/assets/84c20b3e-27b8-4366-bbb9-2e3fab92a1ce" />

<img width="1920" height="1080" alt="ESPHome_step69" src="https://github.com/user-attachments/assets/bb7a5974-dc52-4f95-8e3d-3be69d80794e" />

<img width="1904" height="1071" alt="ESPHome_step70" src="https://github.com/user-attachments/assets/e664030e-499c-48dd-95cd-c1cef657371e" />

<img width="1901" height="905" alt="ESPHome_step71" src="https://github.com/user-attachments/assets/aed039b3-ea19-4444-a058-8299a593f3c6" />

<img width="1904" height="906" alt="ESPHome_step72" src="https://github.com/user-attachments/assets/d0605d1d-03e2-43ca-aec0-557fc034c2f1" />

<img width="1910" height="794" alt="ESPHome_step73" src="https://github.com/user-attachments/assets/952c45dd-c4e8-432e-830c-664410dcd88f" />

![ESPHome_step73_1](https://github.com/user-attachments/assets/84109658-71fc-459e-8746-a31c4cea6069)

![ESPHome_step73_2](https://github.com/user-attachments/assets/90b93efb-87de-487d-a1d2-0f76d750f631)

<img width="1913" height="908" alt="ESPHome_step74" src="https://github.com/user-attachments/assets/bc70d2ee-e258-4213-9262-05453fe4aead" />

<img width="1901" height="910" alt="ESPHome_step75" src="https://github.com/user-attachments/assets/5b57f1da-a749-4d88-b3f0-30395756b653" />

<img width="1912" height="907" alt="ESPHome_step76" src="https://github.com/user-attachments/assets/848f1e53-57aa-4627-9f34-58949b08d078" />

<img width="1914" height="905" alt="ESPHome_step77" src="https://github.com/user-attachments/assets/db7a85c6-7696-44cd-a0a7-583fa4f5fb9a" />

<img width="1913" height="908" alt="ESPHome_step78" src="https://github.com/user-attachments/assets/4dfd98c6-c36d-451a-88a3-9a379b964c31" />

<img width="1915" height="908" alt="ESPHome_step79" src="https://github.com/user-attachments/assets/bdd23ba6-8970-4495-a94a-8649aa2c1897" />

<img width="1911" height="909" alt="ESPHome_step80" src="https://github.com/user-attachments/assets/e72699c7-c177-4111-831d-955a48bdb699" />

<img width="1908" height="903" alt="ESPHome_step81" src="https://github.com/user-attachments/assets/1f0e45ec-df1b-41e3-b0a4-4370f2cb6557" />

<img width="1909" height="904" alt="ESPHome_step82" src="https://github.com/user-attachments/assets/01921f5e-884a-4550-a8e0-d911d526405e" />

![ESPHome_step82_00](https://github.com/user-attachments/assets/a533b242-0604-42f7-962c-f4ced67f1dbe)

<img width="1898" height="905" alt="ESPHome_step83" src="https://github.com/user-attachments/assets/f1fc4d47-088d-465b-b72d-a8dc87e4a4bb" />

<img width="1915" height="908" alt="ESPHome_step84" src="https://github.com/user-attachments/assets/00238add-8cd9-4973-8918-62f64afc9150" />

<img width="1915" height="908" alt="ESPHome_step85" src="https://github.com/user-attachments/assets/8992e6e0-8363-48a1-ae95-b74e1fd7ac52" />

TBC

